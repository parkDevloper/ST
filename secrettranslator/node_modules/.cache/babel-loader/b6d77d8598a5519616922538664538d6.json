{"ast":null,"code":"var _jsxFileName = \"/home/akash/akash/project/SecretTranslator/secrettranslator/src/components/Main.js\";\nimport React from \"react\";\nimport vmsg from \"vmsg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst recorder = new vmsg.Recorder({\n  wasmURL: \"https://unpkg.com/vmsg@0.3.0/vmsg.wasm\"\n});\n\nclass Main extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isLoading: false,\n      isRecording: false,\n      recordings: []\n    };\n\n    this.record = async () => {\n      this.setState({\n        isLoading: true\n      });\n\n      if (this.state.isRecording) {\n        const blob = await recorder.stopRecording();\n        this.setState({\n          isLoading: false,\n          isRecording: false,\n          recordings: this.state.recordings.concat(URL.createObjectURL(blob))\n        });\n      } else {\n        try {\n          await recorder.initAudio();\n          await recorder.initWorker();\n          recorder.startRecording();\n          this.setState({\n            isLoading: false,\n            isRecording: true\n          });\n        } catch (e) {\n          console.error(e);\n          this.setState({\n            isLoading: false\n          });\n        }\n      }\n    };\n  }\n\n  render() {\n    const {\n      isLoading,\n      isRecording,\n      recordings\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: isLoading,\n        onClick: this.record,\n        children: isRecording ? \"Stop\" : \"Record\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: \"none\",\n          padding: 0\n        },\n        children: recordings.map(url => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"audio\", {\n            src: url,\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)\n        }, url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"names":["React","vmsg","recorder","Recorder","wasmURL","Main","Component","state","isLoading","isRecording","recordings","record","setState","blob","stopRecording","concat","URL","createObjectURL","initAudio","initWorker","startRecording","e","console","error","render","listStyle","padding","map","url"],"sources":["/home/akash/akash/project/SecretTranslator/secrettranslator/src/components/Main.js"],"sourcesContent":["\n\nimport React from \"react\";\nimport vmsg from \"vmsg\";\n \nconst recorder = new vmsg.Recorder({\n  wasmURL: \"https://unpkg.com/vmsg@0.3.0/vmsg.wasm\"\n});\n \nclass Main extends React.Component {\n  state = {\n    isLoading: false,\n    isRecording: false,\n    recordings: []\n  };\n  record = async () => {\n    this.setState({ isLoading: true });\n \n    if (this.state.isRecording) {\n      const blob = await recorder.stopRecording();\n      this.setState({\n        isLoading: false,\n        isRecording: false,\n        recordings: this.state.recordings.concat(URL.createObjectURL(blob))\n      });\n    } else {\n      try {\n        await recorder.initAudio();\n        await recorder.initWorker();\n        recorder.startRecording();\n        this.setState({ isLoading: false, isRecording: true });\n      } catch (e) {\n        console.error(e);\n        this.setState({ isLoading: false });\n      }\n    }\n  };\n  render() {\n    const { isLoading, isRecording, recordings } = this.state;\n    return (\n      <React.Fragment>\n        <button disabled={isLoading} onClick={this.record}>\n          {isRecording ? \"Stop\" : \"Record\"}\n        </button>\n        <ul style={{ listStyle: \"none\", padding: 0 }}>\n          {recordings.map(url => (\n            <li key={url}>\n              <audio src={url} controls></audio>\n            </li>\n          ))}\n        </ul>\n      </React.Fragment>\n    );\n  }\n}\n \nexport default Main;"],"mappings":";AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB;;AAEA,MAAMC,QAAQ,GAAG,IAAID,IAAI,CAACE,QAAT,CAAkB;EACjCC,OAAO,EAAE;AADwB,CAAlB,CAAjB;;AAIA,MAAMC,IAAN,SAAmBL,KAAK,CAACM,SAAzB,CAAmC;EAAA;IAAA;IAAA,KACjCC,KADiC,GACzB;MACNC,SAAS,EAAE,KADL;MAENC,WAAW,EAAE,KAFP;MAGNC,UAAU,EAAE;IAHN,CADyB;;IAAA,KAMjCC,MANiC,GAMxB,YAAY;MACnB,KAAKC,QAAL,CAAc;QAAEJ,SAAS,EAAE;MAAb,CAAd;;MAEA,IAAI,KAAKD,KAAL,CAAWE,WAAf,EAA4B;QAC1B,MAAMI,IAAI,GAAG,MAAMX,QAAQ,CAACY,aAAT,EAAnB;QACA,KAAKF,QAAL,CAAc;UACZJ,SAAS,EAAE,KADC;UAEZC,WAAW,EAAE,KAFD;UAGZC,UAAU,EAAE,KAAKH,KAAL,CAAWG,UAAX,CAAsBK,MAAtB,CAA6BC,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAA7B;QAHA,CAAd;MAKD,CAPD,MAOO;QACL,IAAI;UACF,MAAMX,QAAQ,CAACgB,SAAT,EAAN;UACA,MAAMhB,QAAQ,CAACiB,UAAT,EAAN;UACAjB,QAAQ,CAACkB,cAAT;UACA,KAAKR,QAAL,CAAc;YAAEJ,SAAS,EAAE,KAAb;YAAoBC,WAAW,EAAE;UAAjC,CAAd;QACD,CALD,CAKE,OAAOY,CAAP,EAAU;UACVC,OAAO,CAACC,KAAR,CAAcF,CAAd;UACA,KAAKT,QAAL,CAAc;YAAEJ,SAAS,EAAE;UAAb,CAAd;QACD;MACF;IACF,CA3BgC;EAAA;;EA4BjCgB,MAAM,GAAG;IACP,MAAM;MAAEhB,SAAF;MAAaC,WAAb;MAA0BC;IAA1B,IAAyC,KAAKH,KAApD;IACA,oBACE,QAAC,KAAD,CAAO,QAAP;MAAA,wBACE;QAAQ,QAAQ,EAAEC,SAAlB;QAA6B,OAAO,EAAE,KAAKG,MAA3C;QAAA,UACGF,WAAW,GAAG,MAAH,GAAY;MAD1B;QAAA;QAAA;QAAA;MAAA,QADF,eAIE;QAAI,KAAK,EAAE;UAAEgB,SAAS,EAAE,MAAb;UAAqBC,OAAO,EAAE;QAA9B,CAAX;QAAA,UACGhB,UAAU,CAACiB,GAAX,CAAeC,GAAG,iBACjB;UAAA,uBACE;YAAO,GAAG,EAAEA,GAAZ;YAAiB,QAAQ;UAAzB;YAAA;YAAA;YAAA;UAAA;QADF,GAASA,GAAT;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAcD;;AA5CgC;;AA+CnC,eAAevB,IAAf"},"metadata":{},"sourceType":"module"}